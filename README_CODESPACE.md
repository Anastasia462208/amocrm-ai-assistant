# AmoCRM-Manus Integration System

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AmoCRM —Å Manus API —á–µ—Ä–µ–∑ webhooks –¥–ª—è —Ç—É—Ä–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ "–í—Å–µ –Ω–∞ —Å–ø–ª–∞–≤".

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –≤ GitHub Codespace

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Codespace

1. –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ù–∞–∂–º–∏—Ç–µ –∑–µ–ª–µ–Ω—É—é –∫–Ω–æ–ø–∫—É **"Code"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Codespaces"**
4. –ù–∞–∂–º–∏—Ç–µ **"Create codespace on master"**

### 2. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Codespace –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ webhook —Å–µ—Ä–≤–µ—Ä–∞
python3 start_webhook_server.py
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ URL –¥–ª—è webhooks

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç URL-–∞–¥—Ä–µ—Å–∞:

```
üöÄ WEBHOOK SYSTEM STARTED
======================================================================
üìç Base URL: https://your-codespace-5000.preview.app.github.dev
üîó AmoCRM Webhook: https://your-codespace-5000.preview.app.github.dev/amocrm-webhook
üîó Manus Webhook: https://your-codespace-5000.preview.app.github.dev/manus-webhook
üìä System Status: https://your-codespace-5000.preview.app.github.dev/status
üíö Health Check: https://your-codespace-5000.preview.app.github.dev/health
======================================================================
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### AmoCRM Webhook

1. –í–æ–π–¥–∏—Ç–µ –≤ AmoCRM
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí Webhooks**
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π webhook:
   - **URL**: `https://your-codespace-5000.preview.app.github.dev/amocrm-webhook`
   - **–°–æ–±—ã—Ç–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
   - **–ú–µ—Ç–æ–¥**: POST

### Manus Webhook

1. –í–æ–π–¥–∏—Ç–µ –≤ Manus Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Webhooks**
3. –î–æ–±–∞–≤—å—Ç–µ webhook:
   - **URL**: `https://your-codespace-5000.preview.app.github.dev/manus-webhook`
   - **–°–æ–±—ã—Ç–∏—è**: Task completed, Task stopped

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

1. **–ö–ª–∏–µ–Ω—Ç –ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ** –≤ AmoCRM —á–∞—Ç
2. **AmoCRM –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook** –Ω–∞ –Ω–∞—à —Å–µ—Ä–≤–µ—Ä
3. **–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É** –≤ Manus API —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π
4. **Manus –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –∑–∞–ø—Ä–æ—Å –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç
5. **Manus –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook** –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
6. **–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ AmoCRM
7. **–ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –æ—Ç–≤–µ—Ç** –≤ —á–∞—Ç–µ AmoCRM

## üìä –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —Ç—É—Ä–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞:

- **–¢—É—Ä—ã –Ω–∞ —Ä–µ–∫–µ –ß—É—Å–æ–≤–∞—è** (3 –¥–Ω—è/2 –Ω–æ—á–∏)
- **–°–µ–º–µ–π–Ω—ã–π —Å–ø–ª–∞–≤**: 18,000 —Ä—É–±/—á–µ–ª
- **–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö**: 20,000 —Ä—É–±/—á–µ–ª
- **–í–∫–ª—é—á–µ–Ω–æ**: –ø–∏—Ç–∞–Ω–∏–µ, –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
- **–î–∞—Ç—ã**: 15-17 –∏—é–Ω—è, 22-24 –∏—é–Ω—è, 1-3 –∏—é–ª—è
- **–í–æ–∑—Ä–∞—Å—Ç**: –æ—Ç 8 –ª–µ—Ç

## üõ†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
curl https://your-codespace-5000.preview.app.github.dev/health
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
curl https://your-codespace-5000.preview.app.github.dev/status
```

### –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã

```bash
tail -f webhook_system.log
```

## üîß –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

- `complete_webhook_system.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä —Å webhook handlers
- `start_webhook_server.py` - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
- `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- `.devcontainer/devcontainer.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Codespace
- `webhook_system.db` - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `webhook_system.log` - –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tlnp | grep 5000
```

### Webhooks –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö AmoCRM –∏ Manus
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Codespace –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f webhook_system.log`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
sqlite3 webhook_system.db ".tables"
sqlite3 webhook_system.db "SELECT * FROM tasks LIMIT 5;"
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å 20 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –¥–∏–∞–ª–æ–≥–∞–º–∏.
–î–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 200 –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

---

**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ AmoCRM —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI –æ—Ç Manus**
